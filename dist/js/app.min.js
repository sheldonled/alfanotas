!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};b.m=a,b.c=c,b.i=function(a){return a},b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=1)}([function(a,b,c){a.exports=function(a,b,d,e,f){var g=c(2)(),h=function(a){return Number(a)||0},i={approved:"Passou!",reproved:"Reprovado!",needsN3:"Volte para os livros, você vai para N3!",needsN4:"Não entre em pânico, mas você vai para N4!",subjAlreadyExists:"A matéria %s já existe",subjAdded:"Matéria %s adicionada",subjDeleted:"Matéria %s deletada",subjNotDeleted:"Erro ao deletar matéria %s",compose:function(a,b){return i[a].replace(/%s/gi,b)}},j=function(a){return Number(Math.round(a+"e2")+"e-2")},k=function(a,b){return j((h(a)+h(b))/2)},l=function(a,b,c){return j((h(a)+h(b)+h(c))/3)},m=function(a,b,c,d){return j((l(a,b,c)+h(d))/2)},n=function(a){return a+10>=16?{n2:16-a}:o(a,10)},o=function(a,b){if(r(a,b))return{msg:i.approved};var c={n1:a,n2:b},d=k(c.n1,c.n2);if(d+10>=18)c.n3=18-d,c.msg=mesasges.needsN3;else{c.n3=10;var e=p(c.n1,c.n2,c.n3);c.n4=e.n4,c.msg=e.msg}return c},p=function(a,b,c){var d=l(a,b,c);return r(a,b,c)?{msg:i.approved}:d-12>0?{msg:i.reproved}:{n4:12-d,msg:i.needsN4}},q=function(a,b,c,d){return{msg:r(a,b,c,d)?i.approved:i.reproved}},r=function(a,b,c,d){return!(h(a)+h(b)<=6)&&(k(a,b)>=8||(l(a,b,c)>=6||m(a,b,c,d)>=6))},s=function(a,b,c,d){switch(!0){case!!d:return m(a,b,c,d);case!!c:return l(a,b,c);default:return k(a,b)}},t=function(a,b){return{name:a,n1:b.n1,n2:b.n2,n3:b.n3,n4:b.n4}};return{name:a,marks:{n1:b,n2:d,n3:e,n4:f},isApproved:function(){return r(this.marks.n1,this.marks.n2,this.marks.n3,this.marks.n4)},getAvgMarks:function(){return s(this.marks.n1,this.marks.n2,this.marks.n3,this.marks.n4)},projectMarksNeeded:function(){switch(!0){case!!this.marks.n4:return q(this.marks.n1,this.marks.n2,this.marks.n3,this.marks.n4);case!!this.marks.n3:return p(this.marks.n1,this.marks.n2,this.marks.n3);case!!this.marks.n2:return o(this.marks.n1,this.marks.n2);default:return n(this.marks.n1)}},getAllSubjects:function(){return g.getSubjects()},saveAllSubjects:function(a){return g.saveSubjects(a)},saveSubject:function(a){var b=!1,c=g.getSubjects();return c=c.map(function(c){return c.name==a.name&&(b=!0,c.n1=a.n1,c.n2=a.n2,c.n3=a.n3,c.n4=a.n4),c}),b||c.push(a),g.saveSubjects(c)},save:function(){var a=g.getSubjects();return self=this,a.filter(function(a){return a.name===self.name}).length>0?i.compose("subjAlreadyExists",self.name):(a.push(t(this.name,this.marks)),g.saveSubjects(a),i.compose("subjAdded",self.name))},delete:function(a){var b=!1,c=g.getSubjects();return c=c.filter(function(c){if(c.name!=a)return!0;b=!0}),g.saveSubjects(c),i.compose(b?"subjDeleted":"subjNotDeleted",a)}}}},function(a,b,c){!function(){function a(a){function c(a){this.name=ko.observable(a.name),this.n1=ko.observable(a.n1),this.n2=ko.observable(a.n2),this.n3=ko.observable(a.n3),this.n4=ko.observable(a.n4),this.viewOpened=ko.observable(a.viewOpened)}var d=this;d.editSubj=ko.observable(new c({})),d.subjectBar=ko.observable(""),d.totalSubs=ko.observableArray(),d.subjects=ko.computed(function(){return ko.utils.arrayFilter(d.totalSubs(),function(a){return a.name.match(new RegExp(d.subjectBar(),"i"))}).map(function(a){return new c(a)})}),d.addSubject=function(){d.subjectBar().length<=0||(console.log(new b(d.subjectBar()).save()),e())},d.editSubject=function(a){d.editSubj(d.subjects()[a]),f("edit-view")},d.cancelEdit=function(){window.setTimeout(function(){return d.editSubj(new c({}))},400),f("main-view")},d.saveEdit=function(){(new b).saveSubject(ko.toJS(d.editSubj())),d.cancelEdit(),e()},d.deleteSubject=function(){var a=(new b).delete(d.editSubj().name());console.log(a),d.cancelEdit(),e()},d.toggleDetailView=function(a){d.subjects()[a].viewOpened(!d.subjects()[a].viewOpened())};var e=function(){d.subjectBar(""),d.totalSubs((new b).getAllSubjects()),d.totalSubs.notifySubscribers()};e();var f=function(a){var b=document.getElementsByClassName("app-views")[0];switch(a){case"main-view":b.style.left=0;break;case"edit-view":b.style.left="-100%"}}}var b=c(0);ko.applyBindings(new a)}()},function(a,b){a.exports=function(){return{getSubjects:function(){var a=JSON.parse(localStorage.getItem("subjects"));return a||(a=[]),a},saveSubjects:function(a){localStorage.setItem("subjects",JSON.stringify(a))}}}}]);